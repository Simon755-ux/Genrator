<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Thumbnail Designer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .input-section {
            margin-bottom: 30px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
            font-size: 1.1em;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .style-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .style-option {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .style-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .style-option.selected {
            border-color: #667eea;
            background: #e8eaf6;
        }

        .style-option h3 {
            color: #333;
            font-size: 1em;
            margin-bottom: 5px;
        }

        .style-option p {
            color: #666;
            font-size: 0.85em;
        }

        .example-prompts {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .example-prompts h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .example-prompts ul {
            list-style: none;
            padding-left: 0;
        }

        .example-prompts li {
            color: #666;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            font-size: 0.95em;
            cursor: pointer;
            transition: color 0.2s;
        }

        .example-prompts li:hover {
            color: #667eea;
        }

        .example-prompts li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .loading {
            text-align: center;
            margin-top: 30px;
            display: none;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result-section {
            margin-top: 30px;
            display: none;
        }

        .result-section h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .thumbnail-preview {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 40px;
            border-radius: 15px;
            position: relative;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .thumbnail-content {
            text-align: center;
            z-index: 2;
        }

        .thumbnail-title {
            font-size: 3em;
            font-weight: 900;
            color: white;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.5);
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .thumbnail-elements {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .element-badge {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .design-tips {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #ffc107;
        }

        .design-tips h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .design-tips ul {
            color: #856404;
            padding-left: 20px;
        }

        .design-tips li {
            margin-bottom: 8px;
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .color-scheme {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .color-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.3;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ Roblox Thumbnail Designer</h1>
        <p class="subtitle">Skapa professionella Roblox thumbnail-koncept</p>

        <div class="input-section">
            <label for="prompt">Beskriv din thumbnail-id√©:</label>
            <textarea id="prompt" placeholder="Exempel: En sp√§nnande obby med lava, diamanter och en cool karakt√§r"></textarea>
        </div>

        <div class="input-section">
            <label>V√§lj stil:</label>
            <div class="style-options">
                <div class="style-option selected" data-style="action">
                    <h3>‚ö° Action</h3>
                    <p>Explosioner, fart och sp√§nning</p>
                </div>
                <div class="style-option" data-style="adventure">
                    <h3>üó∫Ô∏è √Ñventyr</h3>
                    <p>Utforskning och mysterium</p>
                </div>
                <div class="style-option" data-style="competitive">
                    <h3>üèÜ T√§vling</h3>
                    <p>Sport och konkurrens</p>
                </div>
                <div class="style-option" data-style="horror">
                    <h3>üëª Skr√§ck</h3>
                    <p>M√∂rk och l√§skig atmosf√§r</p>
                </div>
            </div>
        </div>

        <div class="example-prompts">
            <h3>Klicka p√• ett exempel:</h3>
            <ul>
                <li onclick="useExample(this)">En karakt√§r som hoppar √∂ver lava i en farlig obby</li>
                <li onclick="useExample(this)">Intense PvP-strid med laser och explosioner</li>
                <li onclick="useExample(this)">Mystisk portal med gl√∂dande kristaller</li>
                <li onclick="useExample(this)">Sp√∂klik herrg√•rd med dimma och m√•nsken</li>
                <li onclick="useExample(this)">Futuristisk stad med neonljus och bilar</li>
            </ul>
        </div>

        <button onclick="generateDesign()" id="generateBtn">
            ‚ú® Skapa Thumbnail-Design
        </button>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Skapar din thumbnail-design...</p>
        </div>

        <div class="error" id="error"></div>

        <div class="result-section" id="result">
            <h2>Din Thumbnail-Design:</h2>
            <div class="thumbnail-preview" id="preview">
                <div class="color-scheme" id="colorScheme"></div>
                <div class="thumbnail-content">
                    <div class="thumbnail-title" id="title"></div>
                    <div class="thumbnail-elements" id="elements"></div>
                </div>
            </div>
            <div class="design-tips">
                <h3>üí° Design-tips f√∂r din thumbnail:</h3>
                <ul id="designTips"></ul>
            </div>
        </div>
    </div>

    <script>
        let selectedStyle = 'action';

        // Handle style selection
        document.querySelectorAll('.style-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.style-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
                selectedStyle = this.dataset.style;
            });
        });

        function useExample(element) {
            document.getElementById('prompt').value = element.textContent;
        }

        async function generateDesign() {
            const prompt = document.getElementById('prompt').value.trim();
            const generateBtn = document.getElementById('generateBtn');
            const loading = document.getElementById('loading');
            const result = document.getElementById('result');
            const error = document.getElementById('error');

            if (!prompt) {
                error.textContent = 'V√§nligen beskriv din thumbnail-id√© f√∂rst!';
                error.style.display = 'block';
                return;
            }

            error.style.display = 'none';
            result.style.display = 'none';
            loading.style.display = 'block';
            generateBtn.disabled = true;

            try {
                const systemPrompt = `You are a professional Roblox thumbnail designer. Based on the user's description and chosen style, create a detailed thumbnail concept. Respond ONLY with valid JSON in this exact format:
{
  "title": "catchy 2-4 word title in CAPS",
  "elements": ["element1", "element2", "element3", "element4"],
  "colorScheme": {
    "primary": "#hexcolor",
    "secondary": "#hexcolor",
    "accent": "#hexcolor"
  },
  "tips": ["tip1", "tip2", "tip3", "tip4"]
}`;

                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1000,
                        system: systemPrompt,
                        messages: [{
                            role: "user",
                            content: `Create a Roblox thumbnail design concept for: "${prompt}" with style: ${selectedStyle}. Remember to respond ONLY with JSON, no other text.`
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error('Kunde inte skapa design');
                }

                const data = await response.json();
                const textContent = data.content.find(block => block.type === 'text')?.text;
                
                if (!textContent) {
                    throw new Error('Inget svar mottaget');
                }

                const cleanJson = textContent.replace(/```json\n?|\n?```/g, '').trim();
                const design = JSON.parse(cleanJson);

                displayDesign(design);
                result.style.display = 'block';

            } catch (err) {
                error.textContent = `Ett fel uppstod: ${err.message}`;
                error.style.display = 'block';
                console.error('Error:', err);
            } finally {
                loading.style.display = 'none';
                generateBtn.disabled = false;
            }
        }

        function displayDesign(design) {
            const preview = document.getElementById('preview');
            const title = document.getElementById('title');
            const elementsDiv = document.getElementById('elements');
            const tipsDiv = document.getElementById('designTips');
            const colorScheme = document.getElementById('colorScheme');

            preview.style.background = `linear-gradient(135deg, ${design.colorScheme.primary} 0%, ${design.colorScheme.secondary} 100%)`;

            colorScheme.innerHTML = `
                <div class="color-blob" style="background: ${design.colorScheme.accent}; width: 300px; height: 300px; top: -100px; left: -100px; animation: float 6s ease-in-out infinite;"></div>
                <div class="color-blob" style="background: ${design.colorScheme.secondary}; width: 250px; height: 250px; bottom: -80px; right: -80px; animation: float 8s ease-in-out infinite;"></div>
            `;

            title.textContent = design.title;

            elementsDiv.innerHTML = design.elements
                .map(el => `<div class="element-badge">${el}</div>`)
                .join('');

            tipsDiv.innerHTML = design.tips
                .map(tip => `<li>${tip}</li>`)
                .join('');
        }

        document.getElementById('prompt').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                generateDesign();
            }
        });
    </script>
</body>
</html>
