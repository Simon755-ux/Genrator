<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Thumbnail AI Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .input-section {
            margin-bottom: 30px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
            font-size: 1.1em;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .example-prompts {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .example-prompts h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .example-prompts ul {
            list-style: none;
            padding-left: 0;
        }

        .example-prompts li {
            color: #666;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            font-size: 0.95em;
        }

        .example-prompts li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .loading {
            text-align: center;
            margin-top: 30px;
            display: none;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result-section {
            margin-top: 30px;
            display: none;
        }

        .result-section h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .thumbnail-container {
            text-align: center;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .thumbnail-container img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .info-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }

        .info-box p {
            color: #1565c0;
            margin: 0;
            font-size: 0.95em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ Roblox Thumbnail Generator</h1>
        <p class="subtitle">Skapa realistiska Roblox-thumbnails med AI</p>

        <div class="info-box">
            <p>‚ö†Ô∏è Obs: Denna generator skapar AI-genererade bilder baserat p√• din beskrivning. F√∂r b√§sta resultat, beskriv tydligt vad du vill se i din thumbnail.</p>
        </div>

        <div class="example-prompts">
            <h3>Exempel p√• prompter:</h3>
            <ul>
                <li>En Roblox-karakt√§r i en skyskrapa med neonljus i bakgrunden</li>
                <li>Roblox-avatar som springer fr√•n en explosion, action-scen</li>
                <li>Roblox-karakt√§r med cool outfit som st√•r framf√∂r en portal</li>
                <li>Grupp av Roblox-avatarer i en futuristisk stad</li>
                <li>Roblox obby med sv√•ra hinder och f√§rgglad milj√∂</li>
            </ul>
        </div>

        <div class="input-section">
            <label for="prompt">Beskriv din Roblox thumbnail:</label>
            <textarea id="prompt" placeholder="Exempel: En cool Roblox-karakt√§r med solglas√∂gon som hoppar √∂ver lava i en dramatisk scen med explosioner i bakgrunden"></textarea>
        </div>

        <button onclick="generateThumbnail()" id="generateBtn">
            ‚ú® Generera Thumbnail
        </button>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Genererar din thumbnail... Detta kan ta 10-20 sekunder.</p>
        </div>

        <div class="error" id="error"></div>

        <div class="result-section" id="result">
            <h2>Din Roblox Thumbnail:</h2>
            <div class="thumbnail-container">
                <img id="generatedImage" alt="Generated Roblox Thumbnail">
            </div>
        </div>
    </div>

    <script>
        async function generateThumbnail() {
            const prompt = document.getElementById('prompt').value.trim();
            const generateBtn = document.getElementById('generateBtn');
            const loading = document.getElementById('loading');
            const result = document.getElementById('result');
            const error = document.getElementById('error');

            if (!prompt) {
                error.textContent = 'V√§nligen beskriv din thumbnail f√∂rst!';
                error.style.display = 'block';
                return;
            }

            // Reset UI
            error.style.display = 'none';
            result.style.display = 'none';
            loading.style.display = 'block';
            generateBtn.disabled = true;

            try {
                // Enhanced prompt for Roblox-style thumbnails
                const enhancedPrompt = `Create a high-quality, realistic Roblox game thumbnail in a professional YouTube thumbnail style. The image should feature: ${prompt}. Style: vibrant colors, dynamic composition, professional gaming thumbnail aesthetic, clear focus, eye-catching design suitable for a Roblox game. Make it look exciting and appealing to Roblox players.`;

                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1024,
                        messages: [{
                            role: "user",
                            content: `Generate an image based on this description: ${enhancedPrompt}`
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error('Kunde inte generera bild. F√∂rs√∂k igen.');
                }

                const data = await response.json();
                
                // Look for image in response
                const imageBlock = data.content.find(block => block.type === 'image');
                
                if (imageBlock && imageBlock.source) {
                    const imgElement = document.getElementById('generatedImage');
                    imgElement.src = `data:${imageBlock.source.media_type};base64,${imageBlock.source.data}`;
                    result.style.display = 'block';
                } else {
                    throw new Error('Ingen bild genererades. F√∂rs√∂k med en annan beskrivning.');
                }

            } catch (err) {
                error.textContent = `Ett fel uppstod: ${err.message}`;
                error.style.display = 'block';
                console.error('Error:', err);
            } finally {
                loading.style.display = 'none';
                generateBtn.disabled = false;
            }
        }

        // Allow Enter key to submit
        document.getElementById('prompt').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                generateThumbnail();
            }
        });
    </script>
</body>
</html>
